<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TGNSZBYQF3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TGNSZBYQF3');
</script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AXIOM | Premium Store</title>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>

  <!-- ============================================================
       DATA LAYER INITIALIZATION
       Google Tag Manager / Analytics compatible dataLayer
  ============================================================ -->
  <script>
    window.dataLayer = window.dataLayer || [];

    // Helper: push events to dataLayer
    function dlPush(obj) {
      window.dataLayer.push(obj);
      console.log('[DataLayer]', JSON.stringify(obj, null, 2));
    }

    // Page view event on load
    window.addEventListener('DOMContentLoaded', () => {
      dlPush({
        event: 'page_view',
        page: {
          title: document.title,
          url: window.location.href,
          type: 'home'
        },
        ecommerce: {
          currency: 'USD',
          impressions: products.map((p, i) => ({
            id: p.id,
            name: p.name,
            category: p.category,
            price: p.price,
            position: i + 1,
            list: 'Homepage'
          }))
        }
      });
    });
  </script>

  <style>
    :root {
      --bg: #0c0c0c;
      --bg2: #141414;
      --surface: #1c1c1c;
      --border: #2a2a2a;
      --accent: #e8ff47;
      --accent2: #ff6b35;
      --text: #f0f0f0;
      --muted: #888;
      --font-display: 'Bebas Neue', sans-serif;
      --font-body: 'DM Sans', sans-serif;
      --radius: 4px;
      --transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--font-body);
      font-size: 15px;
      line-height: 1.6;
      min-height: 100vh;
    }

    /* ---- NOISE OVERLAY ---- */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
      pointer-events: none;
      z-index: 9999;
      opacity: 0.35;
    }

    /* ---- NAV ---- */
    nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 40px;
      border-bottom: 1px solid var(--border);
      position: sticky;
      top: 0;
      background: rgba(12,12,12,0.92);
      backdrop-filter: blur(12px);
      z-index: 100;
    }
    .logo {
      font-family: var(--font-display);
      font-size: 2rem;
      letter-spacing: 3px;
      color: var(--accent);
    }
    .nav-links {
      display: flex;
      gap: 28px;
      list-style: none;
    }
    .nav-links a {
      text-decoration: none;
      color: var(--muted);
      font-weight: 500;
      font-size: 13px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      transition: color var(--transition);
    }
    .nav-links a:hover { color: var(--text); }
    .nav-right { display: flex; gap: 12px; align-items: center; }
    .cart-btn {
      background: var(--accent);
      color: #000;
      border: none;
      padding: 8px 20px;
      font-family: var(--font-body);
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      border-radius: var(--radius);
      transition: all var(--transition);
    }
    .cart-btn:hover { background: #cfee22; }
    .cart-count {
      background: var(--accent2);
      color: #fff;
      font-size: 11px;
      font-weight: 700;
      border-radius: 999px;
      padding: 1px 6px;
      margin-left: 4px;
    }

    /* ---- HERO ---- */
    .hero {
      padding: 100px 40px 80px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: center;
      max-width: 1300px;
      margin: 0 auto;
    }
    .hero-eyebrow {
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--accent);
      margin-bottom: 16px;
    }
    .hero h1 {
      font-family: var(--font-display);
      font-size: clamp(4rem, 7vw, 7rem);
      line-height: 0.92;
      letter-spacing: 2px;
      margin-bottom: 24px;
    }
    .hero h1 span { color: var(--accent); }
    .hero p { color: var(--muted); max-width: 420px; margin-bottom: 36px; }
    .hero-cta {
      display: flex;
      gap: 14px;
    }
    .btn-primary {
      background: var(--accent);
      color: #000;
      border: none;
      padding: 14px 32px;
      font-family: var(--font-body);
      font-weight: 700;
      font-size: 14px;
      letter-spacing: 0.5px;
      cursor: pointer;
      border-radius: var(--radius);
      transition: all var(--transition);
      text-transform: uppercase;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(232,255,71,0.25); }
    .btn-secondary {
      background: transparent;
      color: var(--text);
      border: 1px solid var(--border);
      padding: 14px 32px;
      font-family: var(--font-body);
      font-weight: 500;
      font-size: 14px;
      cursor: pointer;
      border-radius: var(--radius);
      transition: all var(--transition);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .btn-secondary:hover { border-color: var(--muted); }
    .hero-visual {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .hero-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      aspect-ratio: 3/4;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      transition: transform var(--transition);
    }
    .hero-card:hover { transform: scale(1.02); }
    .hero-card:first-child {
      grid-row: 1 / 3;
      font-size: 4rem;
      background: linear-gradient(145deg, #1a1a1a, #222);
    }

    /* ---- SECTION ---- */
    .section {
      max-width: 1300px;
      margin: 0 auto;
      padding: 60px 40px;
    }
    .section-header {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      margin-bottom: 40px;
    }
    .section-title {
      font-family: var(--font-display);
      font-size: 3rem;
      letter-spacing: 1px;
    }
    .section-link {
      color: var(--accent);
      text-decoration: none;
      font-size: 13px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      border-bottom: 1px solid var(--accent);
      padding-bottom: 2px;
    }

    /* ---- PRODUCTS GRID ---- */
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }
    .product-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
      cursor: pointer;
      transition: transform var(--transition), border-color var(--transition);
      animation: fadeUp 0.5s ease both;
    }
    .product-card:hover {
      transform: translateY(-4px);
      border-color: #3a3a3a;
    }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .product-card:nth-child(2) { animation-delay: 0.08s; }
    .product-card:nth-child(3) { animation-delay: 0.16s; }
    .product-card:nth-child(4) { animation-delay: 0.24s; }

    .product-img {
      width: 100%;
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 4rem;
      background: linear-gradient(135deg, var(--bg2), var(--surface));
      position: relative;
    }
    .badge {
      position: absolute;
      top: 12px;
      left: 12px;
      background: var(--accent2);
      color: #fff;
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 3px 8px;
      border-radius: 3px;
    }
    .badge.new { background: var(--accent); color: #000; }
    .product-info { padding: 18px; }
    .product-category { font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: var(--muted); margin-bottom: 6px; }
    .product-name { font-weight: 600; font-size: 15px; margin-bottom: 10px; }
    .product-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .product-price { font-family: var(--font-display); font-size: 1.5rem; letter-spacing: 1px; }
    .product-price .old { font-size: 0.9rem; color: var(--muted); text-decoration: line-through; margin-right: 6px; font-family: var(--font-body); }
    .add-to-cart {
      background: var(--accent);
      color: #000;
      border: none;
      padding: 8px 16px;
      font-family: var(--font-body);
      font-weight: 700;
      font-size: 12px;
      cursor: pointer;
      border-radius: var(--radius);
      text-transform: uppercase;
      transition: all var(--transition);
      letter-spacing: 0.5px;
    }
    .add-to-cart:hover { background: #cfee22; transform: scale(1.04); }
    .add-to-cart.added { background: #2ecc71; color: #fff; }

    /* ---- DIVIDER ---- */
    .divider {
      border: none;
      border-top: 1px solid var(--border);
      margin: 0;
    }

    /* ---- NEWSLETTER FORM ---- */
    .newsletter {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 60px 40px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .newsletter::before {
      content: '';
      position: absolute;
      top: -60px; left: 50%;
      transform: translateX(-50%);
      width: 400px; height: 200px;
      background: radial-gradient(ellipse, rgba(232,255,71,0.12), transparent 70%);
      pointer-events: none;
    }
    .newsletter h2 {
      font-family: var(--font-display);
      font-size: 3.5rem;
      letter-spacing: 2px;
      margin-bottom: 10px;
    }
    .newsletter p { color: var(--muted); margin-bottom: 32px; }
    .newsletter-form {
      display: flex;
      gap: 12px;
      max-width: 480px;
      margin: 0 auto;
    }
    .newsletter-form input {
      flex: 1;
      background: var(--bg2);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 14px 18px;
      font-family: var(--font-body);
      font-size: 14px;
      border-radius: var(--radius);
      outline: none;
      transition: border-color var(--transition);
    }
    .newsletter-form input:focus { border-color: var(--accent); }
    .newsletter-form input::placeholder { color: var(--muted); }
    .newsletter-msg { margin-top: 14px; font-size: 13px; min-height: 20px; color: var(--accent); }

    /* ---- CONTACT FORM ---- */
    .contact-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      align-items: start;
    }
    .contact-info h2 {
      font-family: var(--font-display);
      font-size: 3rem;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }
    .contact-info p { color: var(--muted); margin-bottom: 32px; }
    .contact-detail {
      display: flex;
      gap: 14px;
      align-items: center;
      margin-bottom: 20px;
      padding: 16px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
    }
    .contact-icon { font-size: 1.4rem; }
    .contact-detail strong { font-weight: 600; font-size: 13px; display: block; }
    .contact-detail span { color: var(--muted); font-size: 13px; }

    .form-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 36px;
    }
    .form-card h3 {
      font-family: var(--font-display);
      font-size: 1.8rem;
      letter-spacing: 1px;
      margin-bottom: 28px;
    }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .form-group { margin-bottom: 20px; }
    .form-group label {
      display: block;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--muted);
      margin-bottom: 8px;
    }
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      background: var(--bg2);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 12px 16px;
      font-family: var(--font-body);
      font-size: 14px;
      border-radius: var(--radius);
      outline: none;
      transition: border-color var(--transition);
    }
    .form-group select { appearance: none; cursor: pointer; }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus { border-color: var(--accent); }
    .form-group input.error,
    .form-group textarea.error { border-color: #e74c3c; }
    .form-group input::placeholder,
    .form-group textarea::placeholder { color: #555; }
    .form-group textarea { resize: vertical; min-height: 100px; }
    .field-error { color: #e74c3c; font-size: 11px; margin-top: 4px; }
    .form-submit {
      width: 100%;
      padding: 15px;
      margin-top: 8px;
    }
    .form-success {
      display: none;
      background: rgba(46,204,113,0.1);
      border: 1px solid rgba(46,204,113,0.3);
      color: #2ecc71;
      padding: 14px;
      border-radius: var(--radius);
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      margin-top: 16px;
    }

    /* ---- CHECKOUT MODAL ---- */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      z-index: 200;
      align-items: center;
      justify-content: center;
      backdrop-filter: blur(4px);
    }
    .modal-overlay.active { display: flex; }
    .modal {
      background: var(--bg2);
      border: 1px solid var(--border);
      border-radius: 12px;
      width: 100%;
      max-width: 560px;
      max-height: 90vh;
      overflow-y: auto;
      padding: 40px;
      animation: modalIn 0.3s ease;
    }
    @keyframes modalIn {
      from { opacity: 0; transform: scale(0.95) translateY(10px); }
      to   { opacity: 1; transform: scale(1) translateY(0); }
    }
    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 30px;
    }
    .modal-title { font-family: var(--font-display); font-size: 2rem; letter-spacing: 1px; }
    .modal-close {
      background: var(--surface);
      border: 1px solid var(--border);
      color: var(--text);
      width: 36px; height: 36px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 16px;
      transition: all var(--transition);
    }
    .modal-close:hover { background: #2a2a2a; }
    .cart-items { margin-bottom: 24px; }
    .cart-item {
      display: flex;
      gap: 16px;
      align-items: center;
      padding: 14px 0;
      border-bottom: 1px solid var(--border);
    }
    .cart-item-emoji { font-size: 2rem; background: var(--surface); padding: 10px; border-radius: 8px; }
    .cart-item-info { flex: 1; }
    .cart-item-name { font-weight: 600; font-size: 14px; }
    .cart-item-meta { color: var(--muted); font-size: 12px; margin-top: 2px; }
    .cart-item-price { font-family: var(--font-display); font-size: 1.2rem; }
    .cart-item-remove {
      background: none;
      border: none;
      color: var(--muted);
      cursor: pointer;
      font-size: 16px;
      transition: color var(--transition);
    }
    .cart-item-remove:hover { color: #e74c3c; }
    .cart-summary {
      background: var(--surface);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 24px;
    }
    .summary-row {
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      margin-bottom: 10px;
      color: var(--muted);
    }
    .summary-row.total {
      color: var(--text);
      font-weight: 700;
      font-size: 16px;
      border-top: 1px solid var(--border);
      padding-top: 12px;
      margin-top: 4px;
    }
    .checkout-form-section h4 {
      font-family: var(--font-display);
      font-size: 1.3rem;
      letter-spacing: 1px;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }

    /* ---- FOOTER ---- */
    footer {
      border-top: 1px solid var(--border);
      padding: 40px;
      margin-top: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .footer-logo { font-family: var(--font-display); font-size: 1.5rem; letter-spacing: 3px; color: var(--accent); }
    .footer-copy { color: var(--muted); font-size: 13px; }
    .footer-links { display: flex; gap: 24px; }
    .footer-links a { color: var(--muted); text-decoration: none; font-size: 13px; transition: color var(--transition); }
    .footer-links a:hover { color: var(--text); }

    /* ---- TOAST ---- */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-left: 3px solid var(--accent);
      padding: 14px 20px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      z-index: 300;
      transform: translateY(80px);
      opacity: 0;
      transition: all 0.35s ease;
    }
    .toast.show { transform: translateY(0); opacity: 1; }

    @media (max-width: 768px) {
      .hero { grid-template-columns: 1fr; padding: 60px 20px; }
      .hero-visual { display: none; }
      .contact-grid { grid-template-columns: 1fr; }
      .form-row { grid-template-columns: 1fr; }
      nav { padding: 14px 20px; }
      .nav-links { display: none; }
      .section { padding: 40px 20px; }
      footer { flex-direction: column; gap: 20px; text-align: center; }
    }
  </style>
</head>
<body>

<!-- ============================================================
     NAVIGATION
============================================================ -->
<nav>
  <div class="logo">AXIOM</div>
  <ul class="nav-links">
    <li><a href="#products">Products</a></li>
    <li><a href="#newsletter">Newsletter</a></li>
    <li><a href="#contact">Contact</a></li>
  </ul>
  <div class="nav-right">
    <button class="cart-btn" onclick="openCart()">
      Cart <span class="cart-count" id="cartCount">0</span>
    </button>
  </div>
</nav>

<!-- ============================================================
     HERO
============================================================ -->
<section class="hero">
  <div>
    <div class="hero-eyebrow">‚Äî New Collection 2025</div>
    <h1>WEAR THE <span>FUTURE.</span></h1>
    <p>Premium gear engineered for the relentless. No compromises, no apologies. Built for those who demand more.</p>
    <div class="hero-cta">
      <button class="btn-primary" onclick="scrollToProducts()">Shop Now</button>
      <button class="btn-secondary" onclick="trackHeroCTA('learn_more')">Learn More</button>
    </div>
  </div>
  <div class="hero-visual">
    <div class="hero-card">üß•</div>
    <div class="hero-card">üëü</div>
    <div class="hero-card">‚åö</div>
  </div>
</section>

<hr class="divider"/>

<!-- ============================================================
     PRODUCTS
============================================================ -->
<section class="section" id="products">
  <div class="section-header">
    <h2 class="section-title">FEATURED</h2>
    <a href="#" class="section-link" onclick="trackViewAllClick()">View All ‚Üí</a>
  </div>
  <div class="products-grid" id="productsGrid"></div>
</section>

<hr class="divider"/>

<!-- ============================================================
     NEWSLETTER FORM
============================================================ -->
<section class="section" id="newsletter">
  <div class="newsletter">
    <h2>STAY AHEAD</h2>
    <p>Drop your email. Get early access to new drops, exclusive offers, and insider news.</p>
    <form class="newsletter-form" id="newsletterForm" novalidate>
      <input
        type="email"
        id="nlEmail"
        placeholder="your@email.com"
        autocomplete="email"
        aria-label="Email address"
        required
      />
      <button type="submit" class="btn-primary" style="white-space:nowrap;">Join the List</button>
    </form>
    <div class="newsletter-msg" id="newsletterMsg"></div>
  </div>
</section>

<hr class="divider"/>

<!-- ============================================================
     CONTACT FORM
============================================================ -->
<section class="section" id="contact">
  <div class="contact-grid">
    <div class="contact-info">
      <h2>GET IN TOUCH</h2>
      <p>Have questions? We're here. Reach out and a real human will respond within 24 hours.</p>
      <div class="contact-detail">
        <div class="contact-icon">üìß</div>
        <div>
          <strong>Email Us</strong>
          <span>hello@axiom.store</span>
        </div>
      </div>
      <div class="contact-detail">
        <div class="contact-icon">üìû</div>
        <div>
          <strong>Call Us</strong>
          <span>+1 (800) 294-5566</span>
        </div>
      </div>
      <div class="contact-detail">
        <div class="contact-icon">üïê</div>
        <div>
          <strong>Hours</strong>
          <span>Mon‚ÄìFri, 9AM ‚Äì 6PM EST</span>
        </div>
      </div>
    </div>

    <div class="form-card">
      <h3>SEND A MESSAGE</h3>
      <form id="contactForm" novalidate>
        <div class="form-row">
          <div class="form-group">
            <label for="cfFirstName">First Name *</label>
            <input type="text" id="cfFirstName" name="firstName" placeholder="John" autocomplete="given-name" required/>
            <div class="field-error" id="cfFirstNameError"></div>
          </div>
          <div class="form-group">
            <label for="cfLastName">Last Name *</label>
            <input type="text" id="cfLastName" name="lastName" placeholder="Doe" autocomplete="family-name" required/>
            <div class="field-error" id="cfLastNameError"></div>
          </div>
        </div>
        <div class="form-group">
          <label for="cfEmail">Email Address *</label>
          <input type="email" id="cfEmail" name="email" placeholder="you@example.com" autocomplete="email" required/>
          <div class="field-error" id="cfEmailError"></div>
        </div>
        <div class="form-group">
          <label for="cfSubject">Subject</label>
          <select id="cfSubject" name="subject">
            <option value="">Select a topic</option>
            <option value="order">Order Inquiry</option>
            <option value="return">Returns & Exchanges</option>
            <option value="product">Product Question</option>
            <option value="wholesale">Wholesale</option>
            <option value="other">Other</option>
          </select>
        </div>
        <div class="form-group">
          <label for="cfMessage">Message *</label>
          <textarea id="cfMessage" name="message" placeholder="Tell us how we can help..." required></textarea>
          <div class="field-error" id="cfMessageError"></div>
        </div>
        <button type="submit" class="btn-primary form-submit">Send Message</button>
        <div class="form-success" id="contactSuccess">‚úì Message sent! We'll get back to you within 24 hours.</div>
      </form>
    </div>
  </div>
</section>

<!-- ============================================================
     FOOTER
============================================================ -->
<footer>
  <div class="footer-logo">AXIOM</div>
  <div class="footer-copy">¬© 2025 AXIOM Store. All rights reserved.</div>
  <div class="footer-links">
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Shipping</a>
  </div>
</footer>

<!-- ============================================================
     CART / CHECKOUT MODAL
============================================================ -->
<div class="modal-overlay" id="cartModal">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title">YOUR CART</div>
      <button class="modal-close" onclick="closeCart()">‚úï</button>
    </div>
    <div class="cart-items" id="cartItemsList"></div>
    <div class="cart-summary" id="cartSummary"></div>

    <!-- CHECKOUT FORM -->
    <div class="checkout-form-section">
      <h4>SHIPPING DETAILS</h4>
      <form id="checkoutForm" novalidate>
        <div class="form-row">
          <div class="form-group">
            <label for="chkFirst">First Name *</label>
            <input type="text" id="chkFirst" placeholder="John" required autocomplete="given-name"/>
            <div class="field-error" id="chkFirstError"></div>
          </div>
          <div class="form-group">
            <label for="chkLast">Last Name *</label>
            <input type="text" id="chkLast" placeholder="Doe" required autocomplete="family-name"/>
            <div class="field-error" id="chkLastError"></div>
          </div>
        </div>
        <div class="form-group">
          <label for="chkEmail">Email *</label>
          <input type="email" id="chkEmail" placeholder="you@email.com" required autocomplete="email"/>
          <div class="field-error" id="chkEmailError"></div>
        </div>
        <div class="form-group">
          <label for="chkAddress">Street Address *</label>
          <input type="text" id="chkAddress" placeholder="123 Main St" required autocomplete="street-address"/>
          <div class="field-error" id="chkAddressError"></div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="chkCity">City *</label>
            <input type="text" id="chkCity" placeholder="New York" required autocomplete="address-level2"/>
          </div>
          <div class="form-group">
            <label for="chkZip">ZIP Code *</label>
            <input type="text" id="chkZip" placeholder="10001" required autocomplete="postal-code"/>
          </div>
        </div>
        <h4 style="margin-top:24px; margin-bottom:20px;">PAYMENT</h4>
        <div class="form-group">
          <label for="chkCard">Card Number *</label>
          <input type="text" id="chkCard" placeholder="1234 5678 9012 3456" maxlength="19" autocomplete="cc-number"/>
          <div class="field-error" id="chkCardError"></div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="chkExpiry">Expiry *</label>
            <input type="text" id="chkExpiry" placeholder="MM/YY" maxlength="5" autocomplete="cc-exp"/>
          </div>
          <div class="form-group">
            <label for="chkCvv">CVV *</label>
            <input type="text" id="chkCvv" placeholder="123" maxlength="4" autocomplete="cc-csc"/>
          </div>
        </div>
        <button type="submit" class="btn-primary form-submit" style="margin-top:8px;">Complete Order</button>
        <div class="form-success" id="checkoutSuccess">‚úì Order placed successfully! Confirmation email sent.</div>
      </form>
    </div>
  </div>
</div>

<!-- Toast Notification -->
<div class="toast" id="toast"></div>

<!-- ============================================================
     JAVASCRIPT ‚Äî DATA LAYER + APP LOGIC
============================================================ -->
<script>
  // =====================================================
  // PRODUCT DATA
  // =====================================================
  const products = [
    { id: 'PRD001', name: 'Apex Parka', category: 'Outerwear', price: 249, emoji: 'üß•', badge: 'new', stock: 8 },
    { id: 'PRD002', name: 'Velocity Runner', category: 'Footwear', price: 189, oldPrice: 229, emoji: 'üëü', badge: 'sale', stock: 14 },
    { id: 'PRD003', name: 'Stealth Chronograph', category: 'Accessories', price: 399, emoji: '‚åö', badge: null, stock: 3 },
    { id: 'PRD004', name: 'Core Fleece', category: 'Tops', price: 89, emoji: 'üß∂', badge: null, stock: 22 },
    { id: 'PRD005', name: 'Urban Cargo', category: 'Bottoms', price: 135, emoji: 'üëñ', badge: 'new', stock: 10 },
    { id: 'PRD006', name: 'Thermal Base', category: 'Tops', price: 75, oldPrice: 95, emoji: 'üëï', badge: 'sale', stock: 6 },
    { id: 'PRD007', name: 'Trek Pack 30L', category: 'Bags', price: 179, emoji: 'üéí', badge: null, stock: 11 },
    { id: 'PRD008', name: 'Summit Gloves', category: 'Accessories', price: 59, emoji: 'üß§', badge: null, stock: 30 }
  ];

  // =====================================================
  // CART STATE
  // =====================================================
  let cart = [];

  function getCartTotal() {
    return cart.reduce((s, i) => s + i.price * i.qty, 0);
  }

  function updateCartBadge() {
    const total = cart.reduce((s, i) => s + i.qty, 0);
    document.getElementById('cartCount').textContent = total;
  }

  // =====================================================
  // RENDER PRODUCTS
  // =====================================================
  function renderProducts() {
    const grid = document.getElementById('productsGrid');
    grid.innerHTML = products.map(p => `
      <div class="product-card" onclick="trackProductClick('${p.id}')">
        <div class="product-img">
          <span>${p.emoji}</span>
          ${p.badge ? `<span class="badge ${p.badge === 'new' ? 'new' : ''}">${p.badge.toUpperCase()}</span>` : ''}
        </div>
        <div class="product-info">
          <div class="product-category">${p.category}</div>
          <div class="product-name">${p.name}</div>
          <div class="product-footer">
            <div class="product-price">
              ${p.oldPrice ? `<span class="old">$${p.oldPrice}</span>` : ''}
              $${p.price}
            </div>
            <button class="add-to-cart" id="addBtn${p.id}" onclick="addToCart(event, '${p.id}')">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    `).join('');
  }

  // =====================================================
  // ADD TO CART + DATA LAYER
  // =====================================================
  function addToCart(e, productId) {
    e.stopPropagation();
    const product = products.find(p => p.id === productId);
    const existing = cart.find(i => i.id === productId);

    if (existing) {
      existing.qty++;
    } else {
      cart.push({ ...product, qty: 1 });
    }

    updateCartBadge();

    // Button feedback
    const btn = document.getElementById('addBtn' + productId);
    btn.textContent = '‚úì Added';
    btn.classList.add('added');
    setTimeout(() => {
      btn.textContent = 'Add to Cart';
      btn.classList.remove('added');
    }, 1800);

    showToast(`${product.name} added to cart`);

    // --- DATA LAYER: add_to_cart ---
    dlPush({
      event: 'add_to_cart',
      ecommerce: {
        currency: 'USD',
        value: product.price,
        items: [{
          item_id: product.id,
          item_name: product.name,
          item_category: product.category,
          price: product.price,
          quantity: 1,
          item_list_name: 'Homepage'
        }]
      }
    });
  }

  // =====================================================
  // REMOVE FROM CART + DATA LAYER
  // =====================================================
  function removeFromCart(productId) {
    const item = cart.find(i => i.id === productId);
    if (!item) return;

    // --- DATA LAYER: remove_from_cart ---
    dlPush({
      event: 'remove_from_cart',
      ecommerce: {
        currency: 'USD',
        value: item.price * item.qty,
        items: [{
          item_id: item.id,
          item_name: item.name,
          item_category: item.category,
          price: item.price,
          quantity: item.qty
        }]
      }
    });

    cart = cart.filter(i => i.id !== productId);
    updateCartBadge();
    renderCartModal();
  }

  // =====================================================
  // CART MODAL
  // =====================================================
  function openCart() {
    renderCartModal();
    document.getElementById('cartModal').classList.add('active');

    // --- DATA LAYER: view_cart ---
    dlPush({
      event: 'view_cart',
      ecommerce: {
        currency: 'USD',
        value: getCartTotal(),
        items: cart.map(i => ({
          item_id: i.id,
          item_name: i.name,
          item_category: i.category,
          price: i.price,
          quantity: i.qty
        }))
      }
    });

    // --- DATA LAYER: begin_checkout (if cart not empty) ---
    if (cart.length) {
      dlPush({
        event: 'begin_checkout',
        ecommerce: {
          currency: 'USD',
          value: getCartTotal(),
          items: cart.map(i => ({
            item_id: i.id,
            item_name: i.name,
            price: i.price,
            quantity: i.qty
          }))
        }
      });
    }
  }

  function closeCart() {
    document.getElementById('cartModal').classList.remove('active');
  }

  function renderCartModal() {
    const list = document.getElementById('cartItemsList');
    const summary = document.getElementById('cartSummary');

    if (cart.length === 0) {
      list.innerHTML = '<div style="text-align:center;color:var(--muted);padding:32px 0;">Your cart is empty</div>';
      summary.innerHTML = '';
      return;
    }

    list.innerHTML = cart.map(item => `
      <div class="cart-item">
        <div class="cart-item-emoji">${item.emoji}</div>
        <div class="cart-item-info">
          <div class="cart-item-name">${item.name}</div>
          <div class="cart-item-meta">${item.category} ¬∑ Qty: ${item.qty}</div>
        </div>
        <div class="cart-item-price">$${(item.price * item.qty).toFixed(2)}</div>
        <button class="cart-item-remove" onclick="removeFromCart('${item.id}')" aria-label="Remove">‚úï</button>
      </div>
    `).join('');

    const subtotal = getCartTotal();
    const shipping = subtotal > 150 ? 0 : 14.99;
    const tax = subtotal * 0.08;
    const total = subtotal + shipping + tax;

    summary.innerHTML = `
      <div class="summary-row"><span>Subtotal</span><span>$${subtotal.toFixed(2)}</span></div>
      <div class="summary-row"><span>Shipping</span><span>${shipping === 0 ? 'FREE' : '$' + shipping.toFixed(2)}</span></div>
      <div class="summary-row"><span>Tax (8%)</span><span>$${tax.toFixed(2)}</span></div>
      <div class="summary-row total"><span>Total</span><span>$${total.toFixed(2)}</span></div>
    `;
  }

  // =====================================================
  // CHECKOUT FORM SUBMISSION + DATA LAYER
  // =====================================================
  document.getElementById('checkoutForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let valid = true;

    // Basic validation
    const fields = [
      { id: 'chkFirst', errId: 'chkFirstError', msg: 'First name required' },
      { id: 'chkLast',  errId: 'chkLastError',  msg: 'Last name required' },
      { id: 'chkEmail', errId: 'chkEmailError', msg: 'Valid email required', type: 'email' },
      { id: 'chkAddress', errId: 'chkAddressError', msg: 'Address required' },
      { id: 'chkCard', errId: 'chkCardError', msg: 'Card number required' },
    ];

    fields.forEach(f => {
      const el = document.getElementById(f.id);
      const errEl = document.getElementById(f.errId);
      const val = el ? el.value.trim() : '';
      const isEmailValid = f.type === 'email' ? /\S+@\S+\.\S+/.test(val) : true;
      if (!val || !isEmailValid) {
        if (errEl) errEl.textContent = f.msg;
        if (el) el.classList.add('error');
        valid = false;
      } else {
        if (errEl) errEl.textContent = '';
        if (el) el.classList.remove('error');
      }
    });

    if (!valid) return;

    // Format card number input
    const orderId = 'ORD-' + Math.random().toString(36).substring(2,9).toUpperCase();

    // --- DATA LAYER: add_payment_info ---
    dlPush({
      event: 'add_payment_info',
      ecommerce: {
        currency: 'USD',
        value: getCartTotal(),
        payment_type: 'Credit Card',
        items: cart.map(i => ({ item_id: i.id, item_name: i.name, price: i.price, quantity: i.qty }))
      }
    });

    // --- DATA LAYER: purchase ---
    dlPush({
      event: 'purchase',
      ecommerce: {
        transaction_id: orderId,
        affiliation: 'AXIOM Online Store',
        currency: 'USD',
        value: getCartTotal(),
        tax: (getCartTotal() * 0.08).toFixed(2),
        shipping: getCartTotal() > 150 ? 0 : 14.99,
        items: cart.map((i, idx) => ({
          item_id: i.id,
          item_name: i.name,
          item_category: i.category,
          price: i.price,
          quantity: i.qty,
          index: idx + 1
        }))
      },
      user: {
        email: document.getElementById('chkEmail').value.trim(),
        firstName: document.getElementById('chkFirst').value.trim()
      }
    });

    // Clear cart
    cart = [];
    updateCartBadge();

    document.getElementById('checkoutSuccess').style.display = 'block';
    setTimeout(() => {
      closeCart();
      document.getElementById('checkoutSuccess').style.display = 'none';
      showToast('üéâ Order placed! Check your email.');
    }, 2000);
  });

  // =====================================================
  // NEWSLETTER FORM + DATA LAYER
  // =====================================================
  document.getElementById('newsletterForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const emailEl = document.getElementById('nlEmail');
    const msgEl   = document.getElementById('newsletterMsg');
    const email   = emailEl.value.trim();

    if (!/\S+@\S+\.\S+/.test(email)) {
      msgEl.style.color = '#e74c3c';
      msgEl.textContent = 'Please enter a valid email address.';
      return;
    }

    // --- DATA LAYER: newsletter_signup ---
    dlPush({
      event: 'newsletter_signup',
      user: { email },
      form: { form_id: 'newsletter', form_location: 'homepage' }
    });

    msgEl.style.color = 'var(--accent)';
    msgEl.textContent = '‚úì You\'re in! Welcome to the AXIOM inner circle.';
    emailEl.value = '';
  });

  // =====================================================
  // CONTACT FORM + DATA LAYER
  // =====================================================
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    let valid = true;

    const validate = (id, errId, msg, type = 'text') => {
      const el = document.getElementById(id);
      const err = document.getElementById(errId);
      const val = el.value.trim();
      const ok = type === 'email' ? /\S+@\S+\.\S+/.test(val) : val.length > 0;
      if (!ok) {
        err.textContent = msg;
        el.classList.add('error');
        valid = false;
      } else {
        err.textContent = '';
        el.classList.remove('error');
      }
    };

    validate('cfFirstName', 'cfFirstNameError', 'First name is required');
    validate('cfLastName',  'cfLastNameError',  'Last name is required');
    validate('cfEmail',     'cfEmailError',     'Valid email is required', 'email');
    validate('cfMessage',   'cfMessageError',   'Message cannot be empty');

    if (!valid) return;

    // --- DATA LAYER: form_submit (contact) ---
    dlPush({
      event: 'form_submit',
      form: {
        form_id: 'contact_form',
        form_name: 'Contact Us',
        subject: document.getElementById('cfSubject').value || 'not selected',
        email: document.getElementById('cfEmail').value.trim()
      }
    });

    document.getElementById('contactSuccess').style.display = 'block';
    this.reset();
    setTimeout(() => {
      document.getElementById('contactSuccess').style.display = 'none';
    }, 5000);
  });

  // =====================================================
  // TRACKING HELPERS + DATA LAYER
  // =====================================================
  function trackProductClick(productId) {
    const p = products.find(x => x.id === productId);
    dlPush({
      event: 'select_item',
      ecommerce: {
        items: [{
          item_id: p.id,
          item_name: p.name,
          item_category: p.category,
          price: p.price,
          item_list_name: 'Homepage'
        }]
      }
    });
  }

  function trackHeroCTA(label) {
    dlPush({
      event: 'cta_click',
      cta: { label, location: 'hero' }
    });
  }

  function trackViewAllClick() {
    dlPush({ event: 'view_all_products', location: 'homepage' });
  }

  function scrollToProducts() {
    document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
    trackHeroCTA('shop_now');
  }

  // =====================================================
  // CARD NUMBER FORMATTER
  // =====================================================
  document.getElementById('chkCard').addEventListener('input', function() {
    this.value = this.value.replace(/\D/g,'').slice(0,16).replace(/(.{4})/g,'$1 ').trim();
  });
  document.getElementById('chkExpiry').addEventListener('input', function() {
    this.value = this.value.replace(/\D/g,'').slice(0,4).replace(/^(\d{2})(\d)/,'$1/$2');
  });

  // =====================================================
  // TOAST
  // =====================================================
  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 2800);
  }

  // =====================================================
  // SCROLL TRACKING + DATA LAYER
  // =====================================================
  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        dlPush({
          event: 'section_view',
          section: { id: entry.target.id, name: entry.target.id }
        });
        sectionObserver.unobserve(entry.target);
      }
    });
  }, { threshold: 0.3 });

  ['products', 'newsletter', 'contact'].forEach(id => {
    const el = document.getElementById(id);
    if (el) sectionObserver.observe(el);
  });

  // =====================================================
  // CLOSE MODAL ON OVERLAY CLICK
  // =====================================================
  document.getElementById('cartModal').addEventListener('click', function(e) {
    if (e.target === this) closeCart();
  });

  // =====================================================
  // INIT
  // =====================================================
  renderProducts();
</script>
</body>
</html>
